{"version":3,"file":"fuzzify-pashto.umd.js","sources":["../src/fuzzify-pashto.ts"],"sourcesContent":["const sSounds = \"صسثڅ\";\nconst zSounds = \"زضظذځ\";\nconst tdSounds = \"طتټدډ\";\nconst velarPlosives = \"ګږکقگك\";\nconst labialPlosivesAndFricatives = \"فپب\";\n// Includes Arabic ى \\u0649\nconst theFiveYeys = \"ېۍیيئےى\";\n\n// TODO: Deal with diacritics etc.\n// .replace(/[\\u0600-\\u061e\\u064c-\\u0670\\u06D6-\\u06Ed]/g, '');\n\nconst pashtoReplacer = {\n  \"ا\": \"ا آ ه ع\", // make optional\n  \"آ\": \"ا آ ه\",\n  \"ٱ\": \"ا آ ه\",\n  \"ٲ\": \"ا آ ه\",\n  \"ٳ\": \"ا آ ه\",\n\n  \"ی\": theFiveYeys,\n  \"ي\": theFiveYeys,\n  \"ې\": theFiveYeys,\n  \"ۍ\": theFiveYeys,\n  \"ئ\": theFiveYeys,\n  \"ے\": theFiveYeys,\n\n  \"س\": sSounds,\n  \"ص\": sSounds,\n  \"ث\": sSounds,\n  \"څ\": sSounds,\n\n  \"ج\": \"چ ج څ\", \n  \"چ\": \"چ ج څ\",\n  \n  \"ه\": \"ا ه ح ہ\",\n  \"ۀ\": \"ا ه ح ہ\",\n  \"ہ\": \"ا ه ح ہ\",\n\n  \"ع\": \"ا و ع\", // make optional\n  \"و\": \"و ع\",\n  \"ؤ\": \"و ع\",\n  \n  \"ښ\": \"ښ خ ش خ ه ح غ\",\n  \"غ\": 'ښ خ ش خ ه ح غ',\n  \"خ\": 'ښ خ ش خ ه ح غ',\n  \"ح\": 'ښ خ ش خ ه ح غ',\n\n  \"ش\": 'ش ښ',\n\n  \"ز\": zSounds,\n  \"ض\": zSounds,\n  \"ذ\": zSounds,\n  \"ځ\": zSounds,\n  \"ظ\": zSounds,\n\n  \"ژ\": 'ز ض ظ ذ ځ ږ',\n\n  \"ر\": 'ر ړ',\n  \"ړ\": 'ر ړ',\n  \"ڑ\": 'ر ړ',\n\n  \"ت\": tdSounds,\n  \"ټ\": tdSounds,\n  \"ٹ\": tdSounds,\n  \"ط\": tdSounds,\n  \"د\": tdSounds,\n  \"ډ\": tdSounds,\n  \"ڈ\": tdSounds,\n\n  \"نب\": 'نب م',\n  \"ن\": 'ن ڼ',\n  \"ڼ\": 'ن ڼ',\n\n  \"ک\": velarPlosives,\n  \"ګ\": velarPlosives,\n  \"گ\": velarPlosives,\n  \"ق\": velarPlosives,\n\n  \"ږ\": 'ګ ږ ک ق ژ',\n\n  \"ب\": labialPlosivesAndFricatives,\n  \"پ\": labialPlosivesAndFricatives,\n  \"ف\": labialPlosivesAndFricatives,\n  \" \": \"\",\n}\n\nconst thingsToReplace = Object.keys(pashtoReplacer);\nconst pashtoReplacerRegex = new RegExp(thingsToReplace.reduce((accumulator, currentValue, i) => {\n  if (i === thingsToReplace.length - 1) {\n    return accumulator + currentValue; \n  } \n  return accumulator + currentValue + \"|\";\n}, \"\"), \"g\");\n\n// enum beginningAtOptions {\n//   beginningOfWord = \"beginningOfWord\", // default\n//   beginningOfString = \"beginningOfString\",\n//   anywhere = \"anywhere\", // TODO: This conflicts with matchWholeWord\n// }\n\ninterface FuzzifyOptions {\n  beginningAt?: string;\n  matchWholeWord?: boolean;\n  allowSpacesInWords?: boolean;\n  singleMatchOnly?: boolean;\n}\n\nexport function fuzzifyPashto(input: string, options: FuzzifyOptions = {}): RegExp {\n  let safeInput = input.replace(/[#-.]|[[-^]|[?|{}]/g, '');\n  if (options.allowSpacesInWords) {\n    safeInput = safeInput.replace(/ /g, '');\n  }\n  const regexLogic = safeInput.trim().replace(pashtoReplacerRegex, (mtch) => {\n    return `[${pashtoReplacer[mtch]}]${options.allowSpacesInWords ? '\\ ?' : ''}`\n  });\n  // TODO: Account for punctuation at the beginning of words\n  const pashtoWordBoundaryBeginning = \"(^|[^\\u0600-\\u06FF])\"\n  // Set how to begin the matching (default at the beginning of a word)\n  let beginning = options.beginningAt === \"string\" ? \"^\" :\n                    options.beginningAt === \"anywhere\" ? \"\" :\n                    pashtoWordBoundaryBeginning; // \"word\" is the default\n  let ending = \"\";\n  if (options.matchWholeWord) {\n    if (options.beginningAt === \"anywhere\") beginning = pashtoWordBoundaryBeginning;\n    ending = \"(?![\\u0600-\\u06FF])\";\n  }\n  return new RegExp(beginning + regexLogic + ending, `m${options.singleMatchOnly ? 'g' : ''}`);\n}\n  "],"names":[],"mappings":"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"}